{'payload': 'pkgbase=\'couldinho\'\npkgname=(couldinho-base couldinho-desktop couldinho-laptop)\npkgver=1\npkgrel=7\npkgdesc="Packages for couldinho systems"\narch=(x86_64)\nurl="https://github.com/kontax/dotfiles"\nlicense=(MIT)\ngroups=(couldinho)\n\nsource=(conf-files.tar.xz)\nsha256sums=(57e966bdac4e5cf05025445d70ab4f7346a822274a5e6b2412ae5640e6d36640)\n\npackage_couldinho-base() {\n install=couldinho-base.install\n\n install -Dm 0644 base/etc/profile.d/couldinho-base.sh "$pkgdir/etc/profile.d/couldinho-base.sh"\n\n # base\n depends=(\n bash\n bzip2\n coreutils\n device-mapper\n dhcpcd\n diffutils\n e2fsprogs\n file\n filesystem\n findutils\n gawk\n gcc-libs\n gettext\n glibc\n grep\n gzip\n inetutils\n iproute2\n iputils\n less\n licenses\n linux\n linux-firmware\n logrotate\n man-db\n man-pages\n mdadm\n netctl\n pacman\n pciutils\n perl\n procps-ng\n psmisc\n s-nail\n sed\n shadow\n sysfsutils\n systemd-sysvcompat\n tar\n texinfo\n usbutils\n util-linux\n vim\n which\n )\n\n # base-devel\n depends+=(\n autoconf\n automake\n binutils\n bison\n fakeroot\n flex\n gcc\n groff\n libtool\n m4\n make\n patch\n pkgconf\n sudo\n systemd\n )\n\n install -Dm 0644 base/etc/default/grub "$pkgdir/etc/default/couldinho-grub"\n install -Dm 0644 base/etc/mkinitcpio.conf "$pkgdir/etc/couldinho-mkinitcpio.conf"\n install -Dm 0644 base/etc/pacman.conf "$pkgdir/etc/couldinho-pacman.conf"\n install -Dm 0644 base/etc/pacman.d/couldinho-arch-aur "$pkgdir/etc/pacman.d/couldinho-arch-aur"\n install -Dm 0400 base/etc/sudoers "$pkgdir/etc/couldinho-sudoers"\n install -Dm 0644 base/etc/vimrc "$pkgdir/etc/couldinho-vimrc"\n install -Dm 0644 base/etc/vconsole.conf "$pkgdir/etc/vconsole.conf"\n install -Dm 0644 base/usr/share/kbd/keymaps/i386/qwerty/jc.map.gz \\\n "$pkgdir/usr/share/kbd/keymaps/i386/qwerty/jc.map.gz"\n\n # Boot and base progs\n depends+=(\n grub efibootmgr # For EFI systems\n cryptboot # Encrypted partitions\n intel-ucode # Microcode patches\n fwupd # Firmware updater\n terminus-font # Better font for console\n git # Move to devel?\n cifs-utils # Connect to shared drives\n stow # Link dotfiles to home dir\n )\n\n install -Dm 0644 base/etc/gitconfig "$pkgdir/etc/gitconfig"\n \n # Base replacements\n depends+=(\n exa # ls replacement\n ripgrep # Fuzzy search\n rmtrash # Delete to bin\n )\n\n # Networking + VPN\n depends+=(\n networkmanager # Networking\n networkmanager-strongswan # IPSEC VPN\n iw # Move to laptop?\n wget openssh # Download and connect\n openvpn # Connect to PIA\n networkmanager-openvpn # NetworkManager drivers for OpenVPN\n private-internet-access-vpn # Scripts for managing PIA\n )\n \n install -Dm 0644 base/etc/private-internet-access/pia.conf "$pkgdir/etc/private-internet-access/pia.conf"\n\n # Shell\n depends+=(\n zsh # Better shell\n antigen-git # Package manager\n prezto-git # Configuration framework\n fzy # Fzy text selector\n lscolors-git # Colours for ls\n pydf # Colourised version of df\n )\n\n install -Dm 0644 base/etc/zsh/antigen.zsh "$pkgdir/etc/zsh/antigen.zsh"\n install -Dm 0644 base/etc/zsh/aliases.zsh "$pkgdir/etc/zsh/aliases.zsh"\n install -Dm 0644 base/etc/zsh/env.zsh "$pkgdir/etc/zsh/env.zsh"\n install -Dm 0644 base/etc/zsh/fuzzy.zsh "$pkgdir/etc/zsh/fuzzy.zsh"\n install -Dm 0644 base/etc/zsh/git.zsh "$pkgdir/etc/zsh/git.zsh"\n install -Dm 0644 base/etc/zsh/keybindings.zsh "$pkgdir/etc/zsh/keybindings.zsh"\n install -Dm 0644 base/etc/zsh/opts.zsh "$pkgdir/etc/zsh/opts.zsh"\n install -Dm 0644 base/etc/zsh/pacman.zsh "$pkgdir/etc/zsh/pacman.zsh"\n install -Dm 0644 base/etc/zsh/prezto.zsh "$pkgdir/etc/zsh/prezto.zsh"\n install -Dm 0644 base/etc/zsh/prezto-patches.zsh "$pkgdir/etc/zsh/prezto-patches.zsh"\n install -Dm 0644 base/etc/zsh/prompt.zsh "$pkgdir/etc/zsh/prompt.zsh"\n install -Dm 0644 base/etc/zsh/sandboxd.zsh "$pkgdir/etc/zsh/sandboxd.zsh"\n install -Dm 0644 base/etc/zsh/ssh.zsh "$pkgdir/etc/zsh/ssh.zsh"\n install -Dm 0644 base/etc/zsh/title.zsh "$pkgdir/etc/zsh/title.zsh"\n install -Dm 0644 base/etc/zsh/zsh-notify.zsh "$pkgdir/etc/zsh/zsh-notify.zsh"\n install -Dm 0644 base/etc/zsh/zshrc "$pkgdir/etc/zsh/couldinho-zshrc"\n install -Dm 0644 base/etc/zsh/zprezto-patches/prompt.patch "$pkgdir/etc/zsh/zprezto-patches/prompt.patch"\n install -Dm 0644 base/etc/zsh/zprezto-patches/wordchars.patch \\\n "$pkgdir/etc/zsh/zprezto-patches/wordchars.patch"\n\n # Filesystem\n depends+=(\n btrfs-progs # BTRFS filesystem tools\n snapper # Snapshot manager\n snap-pac # Hooks for pacman for auto-snapshotting\n snap-pac-grub # Add grub entries for snapshots\n )\n\n install -Dm 0644 base/etc/conf.d/snapper "$pkgdir/etc/conf.d/couldinho-snapper"\n install -Dm 0644 base/etc/snapper/configs/root "$pkgdir/etc/snapper/configs/root"\n install -Dm 0644 base/etc/snap-pac.conf "$pkgdir/etc/snap-pac.conf"\n install -Dm 0644 base/etc/default/grub-btrfs/config "$pkgdir/etc/default/grub-btrfs/couldinho-config"\n\n # Access Control\n depends+=(\n pass # Text-based password manager\n pass-git-helper # Credential helper using pass to store details\n usbguard # USB security configuration\n yubikey-manager # Yubikey settings\n yubico-pam # PAM settings for yubikey\n libu2f-server # Libraries for U2F - login with yubikey\n pam-u2f # Login to system with U2F\n git-secret # Helper tool for storing private files in a git repo\n )\n\n install -Dm 0644 base/etc/profile.d/zz_custom.sh "$pkgdir/etc/profile.d/zz_custom.sh"\n install -Dm 0600 base/etc/usbguard/usbguard-daemon.conf \\\n "$pkgdir/etc/usbguard/couldinho-usbguard-daemon.conf"\n\n # Packages\n depends+=(\n devtools # Package building helpers\n aurutils-git # AUR helper\n pacman-contrib # Contains checkupdates plus other pacman scripts\n reflector # Automatically sort out pacman mirrorlist\n )\n\n install -Dm 0644 base/etc/systemd/system/reflector.service "$pkgdir/etc/systemd/system/reflector.service"\n install -Dm 0644 base/etc/systemd/system/reflector.timer "$pkgdir/etc/systemd/system/reflector.timer"\n}\n\npackage_couldinho-desktop() {\n install=couldinho-desktop.install\n\n install -Dm 0644 desktop/etc/profile.d/couldinho-desktop.sh "$pkgdir/etc/profile.d/couldinho-desktop.sh"\n\n # base\n depends=(\n couldinho-base\n )\n\n # xorg\n depends+=(\n xorg-server \t# X server\n xorg-xfontsel \t# Selecting X11 fonts easily\n xorg-xinit \t# Start up X and various WM\'s\n xorg-xprop \t# Display X properties\n xorg-xrandr \t# Resize & Rotate\n )\n\n install -Dm 0644 desktop/etc/X11/xorg.conf.d/00-keyboard.conf \\\n "$pkgdir/etc/X11/xorg.conf.d/00-keyboard.conf"\n install -Dm 0644 desktop/usr/share/X11/xkb/symbols/jc "$pkgdir/usr/share/X11/xkb/symbols/jc"\n\n # i3\n depends+=(\n i3-gaps # i3 window manager with gaps between windows\n i3status # Status bar for i3\n py3status # Manage i3status through python\n i3ipc-python # IPC for i3 via python\n )\n\n install -Dm 0644 desktop/etc/i3/config "$pkgdir/etc/i3/couldinho-config"\n install -Dm 0644 desktop/etc/i3status.conf "$pkgdir/etc/couldinho-i3status.conf"\n install -Dm 0644 desktop/usr/share/fonts/taskbar.ttf "$pkgdir/usr/share/fonts/taskbar.ttf"\n\n # Login manager\n depends+=(\n lightdm \t# Login manager\n lightdm-gtk-greeter \t# Theme for login manager\n )\n\n install -Dm 0644 desktop/etc/lightdm/lightdm.conf "$pkgdir/etc/lightdm/couldinho-lightdm.conf"\n install -Dm 0644 desktop/etc/lightdm/lightdm-gtk-greeter.conf \\\n "$pkgdir/etc/lightdm/couldinho-lightdm-gtk-greeter.conf"\n\n # Further i3 packages\n depends+=(\n rofi \t# dmenu replacement\n rofi-calc \t# Wrapper for qalculate\n libqalculate \t# More powerful calculator\n rofi-dmenu \t# Wrapper for things depending on dmenu binary\n ttf-inconsolata \t# Font for terminal and status etc.\n otf-font-awesome \t# Font with icons\n python-tzlocal \t# Used within the clock for the status bar\n gsimplecal \t# GTK calendar for the status bar\n dunst \t# Notification server\n libnotify # Notification library\n python-pydbus # Python DBus connector (used by usbguard i3status module)\n yubikey-touch-detector # i3status notification for when yubikey needs attention \n pinentry-dmenu # Enter GPG pins using dmenu\n )\n\n install -Dm 0644 desktop/etc/rofi.conf "$pkgdir/etc/rofi.conf"\n\n # Multimedia\n depends+=(\n alsa-utils \t# Sound support\n pulseaudio \t# Sound server\n pulseaudio-alsa \t# ALSA config for pulseaudio\n pamixer \t# Command line mixer\n )\n\n # Terminal + desktop tools\n depends+=(\n kitty \t# GPU enhanced terminal emulator\n flameshot \t# Screenshot tool\n compton \t# X compositor\n copyq \t# Copy/Paste utility\n unclutter \t# Hide mouse in i3 when not in use\n ranger \t# File manager from terminal (vim keybindings)\n python-pillow \t# Used to view pictures within ranger\n freerdp \t# Remote desktop client\n xsecurelock # Desktop lock screen\n rr # Replaying debugger TODO: Move to reveng\n )\n\n install -Dm 0644 desktop/etc/xdg/kitty/diff.conf "$pkgdir/etc/xdg/kitty/diff.conf"\n install -Dm 0644 desktop/etc/xdg/kitty/kitty.conf "$pkgdir/etc/xdg/kitty/kitty.conf"\n install -Dm 0644 desktop/etc/xdg/kitty/vm.py "$pkgdir/etc/xdg/kitty/vm.py"\n install -Dm 0644 desktop/etc/xdg/compton.conf "$pkgdir/etc/xdg/couldinho-compton.conf"\n\n # Networking\n depends+=(\n nm-connection-editor # Gui tool for managing NetworkManager connections\n networkmanager-dmenu-git # dmenu for NetworkManager connections\n )\n\n # Web\n depends+=(\n vivaldi # Browser\n vivaldi-ffmpeg-codecs # Browser video codecs\n vivaldi-widevine # Stream DRM support for vivaldi\n pepper-flash # Flash player\n x265 # Video compression\n browserpass # Browser extenson for pass\n )\n\n # General scripts\n install -Dm 0755 desktop/usr/local/bin/i3-autoname-workspaces "$pkgdir/usr/local/bin/i3-autoname-workspaces"\n install -Dm 0755 desktop/usr/local/bin/i3exit "$pkgdir/usr/local/bin/i3exit"\n install -Dm 0755 desktop/usr/local/bin/is_online "$pkgdir/usr/local/bin/is_online"\n install -Dm 0755 desktop/usr/local/bin/rdp "$pkgdir/usr/local/bin/rdp"\n install -Dm 0755 desktop/usr/local/bin/renumber-sessions "$pkgdir/usr/local/bin/renumber-sessions"\n install -Dm 0755 desktop/usr/local/bin/rofi-calc "$pkgdir/usr/local/bin/rofi-calc"\n install -Dm 0755 desktop/usr/local/bin/set-brightness "$pkgdir/usr/local/bin/set-brightness"\n}\n\npackage_couldinho-laptop() {\n install=couldinho-laptop.install\n\n install -Dm 0644 laptop/etc/profile.d/couldinho-laptop.sh "$pkgdir/etc/profile.d/couldinho-laptop.sh"\n\n # base + desktop\n depends=(\n couldinho-desktop\n )\n\n # Laptop specific programs\n depends+=(\n light # Program to change backlight\n )\n\n # Overwrite desktop files\n install -Dm 0644 laptop/etc/i3status.conf "$pkgdir/etc/couldinho-laptop-i3status.conf"\n install -Dm 0644 laptop/etc/lightdm/lightdm-gtk-greeter.conf \\\n "$pkgdir/etc/lightdm/couldinho-laptop-lightdm-gtk-greeter.conf"\n install -Dm 0644 laptop/etc/rofi.conf "$pkgdir/etc/couldinho-laptop-rofi.conf"\n}\n\n#package_couldinho-dev() {\n# install=couldinho-dev.install\n#\n# install -Dm 0644 dev/etc/profile.d/coudinho-dev.sh "$pkgdir/etc/profile.d/couldinho-dev.sh"\n#\n# depends=(\n# couldinho-base\n# )\n#\n# # AWS\n# depends+=(\n# aws-cli # Command line interface to AWS\n# npm # Node package manager (used for serverless)\n# )\n#}\n'}
